<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="stylesheet" href="/css/question.module.css"> -->
    <title>title</title>
</head>

<body>


    <!-- 質問ページ -->
    <p>ここは質問のページです。答えられそうなもの全てに答えましょう。<br>※できるだけ多く答えた方が長所が見つかりやすいです。</p>

    <div class="q_text">
        <p class="question_num">質問1</p>
        <p class="question">最近いらっとした、心がざわざわしたのはいつですか？</p>
        <p>(答え方の例)<br>場を回す力がないのに、つまらない話ばかりしてくるやつにイラついた → 自分が面白い話をして場を盛り上げることを当たり前にやっている</p>
        <p>下の入力欄に「面白い話をして場を盛り上げることができる」と入力</p>


        <div>
            <textarea class="text_box1" id="a1" placeholder="ここに入力"></textarea>
        </div>

    </div>

    <div class="q_text">
        <p class="question_num">質問2</p>
        <p class="question">明日仕事をやめてしまったとして、もっとやりたかったと感じるのはどの部分でしょうか？仕事をしていない場合は前の仕事について考えてください。</p>
        <p>(答え方の例)<br>事務作業はやりたくないが、お客さんの会話を聞いている時間はもっとやりたかった → 話を聞くこと</p>
        <p>下の入力欄に「話を聞くこと」と入力</p>


        <div>
            <textarea class="text_box1" id="a2" placeholder="ここに入力"></textarea>
        </div>

    </div>

    <div class="q_text">
        <p class="question_num">質問3</p>
        <p class="question">小さい頃から得意だったこと、昔得意だったことは？小学生のころを思い出してみてください。</p>
        <p>そこから分かるあなたの得意なことを入力してください。</p>


        <div>
            <textarea class="text_box1" id="a3" placeholder="ここに入力"></textarea>
        </div>

    </div>

    <div class="q_text">
        <p class="question_num">質問4</p>
        <p class="question">これまで周りの人から「ありがとう」と感謝されたことはなんですか？</p>
        <p>そこから分かるあなたの得意なことを入力してください。</p>


        <div>
            <textarea class="text_box1" id="a4" placeholder="ここに入力"></textarea>
        </div>

        <div class="q_text">
            <p class="question_num">質問5</p>
            <p class="question">これまでで一番大きな挫折や後悔は何ですか？ → 挫折や後悔だと感じるのは力を入れていることだからです。</p>
            <p>そこから分かるあなたの得意なことを入力してください。</p>


            <div>
                <textarea class="text_box1" id="a5" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問6</p>
            <p class="question">自分の好きなところはどこですか？自分の好きなところは得意なことと関わっていることが多いです。</p>
            <p>そこから分かるあなたの得意なことを入力してください。</p>

            <div>
                <textarea class="text_box1" id="a6" placeholder="ここに入力"></textarea>
            </div>

        </div>
        <div class="q_text">
            <p class="question_num">質問7</p>
            <p class="question">苦手なことは何ですか？</p>
            <p>それを裏側から見るとどんな得意なことがありますか？入力してください。</p>


            <div>
                <textarea class="text_box1" id="a7" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問8</p>
            <p class="question">これまでの人生で「何でこんなこともできないの？」と周りの人に思ったことは何ですか？</p>
            <p>周りの人にそう思ってしまうのは、あなたが得意なことだからです。</p>


            <div>
                <textarea class="text_box1" id="a8" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問9</p>
            <p class="question">どんな種類の作業なら夢中になれますか？具体的に考えてみてください。</p>
            <p>得意なことをしている時に人は夢中になることができます。</p>



            <div>
                <textarea class="text_box1" id="a9" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問10</p>
            <p class="question">心のワクワク感を感じるのはどんな時ですか？得意なことをやっている</p>
            <p>得意なことをやっている時にはワクワク感を感じます。</p>

            <div>
                <textarea class="text_box1" id="a10" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問11</p>
            <p class="question">長時間やっても苦にならないことは何ですか？</p>
            <p>得意なことは長い時間やっていても苦になりません。</p>

            <div>
                <textarea class="text_box1" id="a11" placeholder="ここに入力"></textarea>
            </div>

        </div>



        <div class="q_text">
            <p class="question_num">質問12</p>
            <p class="question">自分らしいと感じるのはどんな時ですか？</p>
            <p>得意なことをやっている時は自分らしさを感じます。</p>

            <div>
                <textarea class="text_box1" id="a12" placeholder="ここに入力"></textarea>
            </div>

        </div>

        <div class="q_text">
            <p class="question_num">質問13（最後の質問です）</p>
            <p class="question">あまり努力をしていないのに周りの人から褒められたことは？</p>
            <p>そこから分かるあなたの得意なことを入力してください。</p>


            <div>
                <textarea class="text_box1" id="a13" placeholder="ここに入力"></textarea>
            </div>

        </div>




        <!-- <ul id="aaa"></ul> -->





        <div class="next_btn">
            <div>
                <button type='button' class="next_q_btn" id="send">回答完了</button>
                <!-- （テキストボックスの中のデータを送信する処理） -->
            </div>

        </div>

        <!-- <div>
        本来はここに他の人の回答を参考にするを入れる予定だったが、時間が足りないため割愛
    </div>  -->


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <script type="module">
            // Import the functions you need from the SDKs you need
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-app.js";
            // 追加
            import { getFirestore, collection, addDoc, serverTimestamp, query, orderBy, onSnapshot, } from
                "https://www.gstatic.com/firebasejs/9.6.6/firebase-firestore.js";
            import { getDatabase } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-database.js";
            import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.6/firebase-auth.js";
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries

            // Your web app's Firebase configuration
            const firebaseConfig = {
                apiKey: "AIzaSyCcVbVy-pEgB4YVsbWpkGqst0XptMm0cZc",
                authDomain: "sotusei-tyousyo.firebaseapp.com",
                projectId: "sotusei-tyousyo",
                storageBucket: "sotusei-tyousyo.appspot.com",
                messagingSenderId: "1021979743377",
                appId: "1:1021979743377:web:1df25c29a833190661db30"
            };

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            // 追加
            const db = getFirestore(app);

            const database = getDatabase(app);
            const auth = getAuth();

            // 次の質問へボタンを押すと答えを送信する処理
            $('#send').on('click', function () {
                // サインインしているユーザーのユーザーIDを取得
                onAuthStateChanged(auth, (user) => {
                    if (user) {
                        // User is signed in, see docs for a list of available properties
                        // https://firebase.google.com/docs/reference/js/firebase.User
                        const uid = user.uid;
                        console.log(uid);

                        addDoc(collection(db, 'answer1'), {
                            a1: $('#a1').val(),
                            a2: $('#a2').val(),
                            a3: $('#a3').val(),
                            a4: $('#a4').val(),
                            a5: $('#a5').val(),
                            a6: $('#a6').val(),
                            a7: $('#a7').val(),
                            a8: $('#a8').val(),
                            a9: $('#a9').val(),
                            a10: $('#a10').val(),
                            a11: $('#a11').val(),
                            a12: $('#a12').val(),
                            a13: $('#a13').val(),
                            userID: uid,
                        });

                    } else {
                        // User is signed out
                        // ...
                    }
                });



            });


            // 次の質問へボタンを押すと1秒後に画面が変わる処理
            $('.next_q_btn').on('click', function () {
                setTimeout(function () {
                    window.location.href = "list.html"
                        ;
                }, 1 * 1000);

            })



        </script>

</body>

</html>